---
layout: default
title: "" 
---

<div class="container mt-5">
    
    <!-- BUSCADOR EN TIEMPO REAL (SIN REDIRECCI칍N) -->
    <div class="row mb-5 justify-content-center">
        <div class="col-md-8">
            <div class="d-flex" style="gap: 10px;">
                <input type="text" 
                       id="homeSearchInput" 
                       placeholder="Filtrar por 치lbum, artista, a침o..." 
                       class="form-control"
                       onkeyup="filterHomeAlbums()"
                       style="background-color: #222; border: 1px solid #333; color: white; padding: 12px;">
                <!-- El bot칩n ya no env칤a formulario, solo es est칠tico o para limpiar -->
                <button class="btn" onclick="filterHomeAlbums()" style="background-color: #1DB954; color: black; font-weight: bold; padding: 0 30px; border: none;">FILTRAR</button>
            </div>
        </div>
    </div>

    <!-- REJILLA DE 츼LBUMES -->
    <div class="row" id="homeAlbumGrid">
        {% assign items = site.data.demo-metadata %}
        {% for item in items %}
            <!-- A침ado data-search con todos los datos para que el JS los pueda leer -->
            <div class="col-lg-4 col-md-4 col-sm-6 mb-5 album-card-col" 
                 data-search="{{ item.title | downcase }} {{ item.creator | downcase }} {{ item.date }} {{ item.formato_fisico | downcase }}">
                {% include feature/card.html item=item %}
            </div>
        {% endfor %}
    </div>

    <!-- MENSAJE DE "NO ENCONTRADO" -->
    <div id="noResultsHome" style="display:none; text-align:center; color:#999; margin-top:20px;">
        <h4>No encontramos ese 치lbum en la portada 游땞</h4>
        <p>Prueba en la secci칩n <a href="{{ '/browse.html' | relative_url }}" style="color:#1DB954;">Explorar</a> para una b칰squeda avanzada.</p>
    </div>
</div>

<script>
function filterHomeAlbums() {
    // 1. Obtener lo que ha escrito el usuario
    var input = document.getElementById('homeSearchInput');
    var filter = input.value.toLowerCase();
    
    // 2. Obtener la lista de 치lbumes
    var grid = document.getElementById('homeAlbumGrid');
    var cards = grid.getElementsByClassName('album-card-col');
    var visibleCount = 0;

    // 3. Recorrer cada tarjeta
    for (var i = 0; i < cards.length; i++) {
        // Miramos los datos ocultos en 'data-search'
        var searchData = cards[i].getAttribute('data-search');
        
        // Si el texto est치 incluido en los datos...
        if (searchData && searchData.indexOf(filter) > -1) {
            cards[i].style.display = ""; // Mostrar
            visibleCount++;
        } else {
            cards[i].style.display = "none"; // Ocultar
        }
    }

    // 4. Controlar mensaje de vac칤o
    var noMsg = document.getElementById('noResultsHome');
    if (visibleCount === 0) {
        noMsg.style.display = "block";
    } else {
        noMsg.style.display = "none";
    }
}
</script>